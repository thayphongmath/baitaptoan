<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Điền Dữ Liệu Lớp Học</title>
    <!-- Bootstrap CSS for responsive and beautiful design -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS for school theme, bolder design -->
    <style>
        body { font-family: 'Times New Roman', serif; background-color: #f0f4f8; color: #333; font-size: 1.1rem; }
        .container { max-width: 800px; margin: auto; padding: 20px; }
        .form-section { background: white; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); padding: 20px; margin-bottom: 20px; }
        label { font-weight: bold; }  /* Đậm nét cho labels */
        .form-control { border: 2px solid #ced4da; }  /* Border đậm hơn cho inputs */
        .btn-primary { background-color: #007bff; border: none; font-weight: bold; }
        .btn-primary:hover { background-color: #0056b3; }
        .btn-primary:disabled { background-color: #6c757d; cursor: not-allowed; }
        .form-check-label { font-weight: normal; } /* Labels cho radio/checkbox nhẹ hơn */
        @media (max-width: 768px) { .row > div { margin-bottom: 10px; } }  /* Mobile optimization */
    </style>
</head>
<body>
    <div class="container">
        <h2 class="text-center mb-4">Dữ Liệu Lớp Học 12C1 (Năm 2025-2026)</h2>
        
        <!-- Form cho Lý Lịch Học Sinh (kết hợp LyLich1 & LyLich2) -->
        <div class="form-section">
            <form id="studentForm">
                <div class="row">
                    <div class="col-md-12">
                        <label>Họ và Tên HS</label>
                        <input type="text" class="form-control" id="hoTen" placeholder="Ví dụ: Nguyễn Văn A" required>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Ngày Tháng Năm Sinh (dd/mm/yyyy)</label>
                        <input type="text" class="form-control" id="ngaySinh" placeholder="Ví dụ: '01/01/2008">
                    </div>
                    <div class="col-md-6">
                        <label>Nơi Sinh (Tỉnh)</label>
                        <input type="text" class="form-control" id="noiSinh" placeholder="Ví dụ: Bình Dương">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Giới Tính (Bắt buộc)</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="gioiTinh" id="nam" value="Nam" required>
                            <label class="form-check-label" for="nam">Nam</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="gioiTinh" id="nu" value="Nữ">
                            <label class="form-check-label" for="nu">Nữ</label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label>Dân Tộc</label>
                        <input type="text" class="form-control" id="danToc" placeholder="Ví dụ: Kinh">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Diện Chính Sách (SHN, SCN, KK,...)</label>
                        <input type="text" class="form-control" id="dienChinhSach" placeholder="Ví dụ: KK">
                    </div>
                    <div class="col-md-6">
                        <label>Chỗ Ở Hiện Nay (Tổ/Ấp)</label>
                        <input type="text" class="form-control" id="toAp" placeholder="Ví dụ: Tổ 1">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Xã</label>
                        <input type="text" class="form-control" id="xa" placeholder="Ví dụ: Xã Hội An">
                    </div>
                    <div class="col-md-6">
                        <label>Tỉnh</label>
                        <input type="text" class="form-control" id="tinh" placeholder="Ví dụ: An Giang">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Cha: Họ Tên</label>
                        <input type="text" class="form-control" id="chaHoTen" placeholder="Ví dụ: Võ Thanh Phong">
                    </div>
                    <div class="col-md-6">
                        <label>Cha: Nghề Nghiệp</label>
                        <input type="text" class="form-control" id="chaNgheNghiep" placeholder="Ví dụ: Nông dân">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Mẹ: Họ Tên</label>
                        <input type="text" class="form-control" id="meHoTen" placeholder="Ví dụ: Trần Thị C">
                    </div>
                    <div class="col-md-6">
                        <label>Mẹ: Nghề Nghiệp</label>
                        <input type="text" class="form-control" id="meNgheNghiep" placeholder="Ví dụ: Nội trợ">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>SĐT Liên Lạc của Cha Mẹ (Nhập số)</label>
                        <input type="text" class="form-control" id="sdtLienLac" placeholder="Ví dụ: 0382311919">
                    </div>
                    <div class="col-md-6">
                        <label>KQ Rèn Luyện 24-25</label>
                        <input type="text" class="form-control" id="renLuyen" placeholder="Ví dụ: Tốt">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>KQ Học Tập 24-25</label>
                        <input type="text" class="form-control" id="hocTap" placeholder="Ví dụ: Giỏi">
                    </div>
                    <div class="col-md-6">
                        <label>Ban Cán Sự Lớp (LT, LP, TT)</label>
                        <input type="text" class="form-control" id="banCanSu" placeholder="Ví dụ: LT">
                    </div>
                </div>
                <!-- Phần LyLich2 -->
                <hr>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Ví dụ: vana@example.com">
                    </div>
                    <div class="col-md-6">
                        <label>Số CCCD/CMND</label>
                        <input type="text" class="form-control" id="cccd" placeholder="Ví dụ: 089089002014">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Số điện thoại Học sinh (Nhập số)</label>
                        <input type="text" class="form-control" id="sdtHS" placeholder="Ví dụ: 0981011235">
                    </div>
                    <div class="col-md-6">
                        <label>Cân Nặng (kg, ví dụ 40.5)</label>
                        <input type="number" step="0.1" class="form-control" id="canNang" placeholder="Ví dụ: 45.5">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Chiều Cao (cm)</label>
                        <input type="number" class="form-control" id="chieuCao" placeholder="Ví dụ: 160">
                    </div>
                    <div class="col-md-6">
                        <label>Biết Bơi (check nếu biết bơi)</label>
                        <input type="checkbox" id="bietBoi">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <label>Bệnh Về Mắt</label>
                        <input type="text" class="form-control" id="benhMat" placeholder="Ví dụ: Cận thị, Loạn thị, Viễn thị">
                    </div>
                    <div class="col-md-6">
                        <label>Tiền Sử Bệnh Cần Theo Dõi</label>
                        <input type="text" class="form-control" id="tienSuBenh" placeholder="Ví dụ: Hen suyễn, Tim">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-4">
                        <label>Phương Tiện: Xe Đạp</label>
                        <input type="checkbox" id="phuongTienXD">
                    </div>
                    <div class="col-md-4">
                        <label>Xe Máy/Điện</label>
                        <input type="checkbox" id="phuongTienXeMay">
                    </div>
                    <div class="col-md-4">
                        <label>Khác</label>
                        <input type="text" class="form-control" id="phuongTienKhac" placeholder="Ví dụ: Xe buýt">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-4">
                        <label>Học Trực Tuyến: Đủ ĐK</label>
                        <input type="radio" name="hocTrucTuyen" id="hocTrucTuyenDu">
                    </div>
                    <div class="col-md-4">
                        <label>Không Đủ ĐK</label>
                        <input type="radio" name="hocTrucTuyen" id="hocTrucTuyenKhong">
                    </div>
                    <div class="col-md-4">
                        <label>Có Thể Nhờ Bạn</label>
                        <input type="radio" name="hocTrucTuyen" id="hocTrucTuyenNho">
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12">
                        <label>Ghi Chú</label>
                        <textarea class="form-control" id="ghiChu" placeholder="Ví dụ: Diện chính sách: KK"></textarea>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-12">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="camKet" required>
                            <label class="form-check-label" for="camKet">Tôi cam kết thông tin đã nhập là đúng sự thật</label>
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary mt-4 w-100" id="submitBtn">Nộp Thông Tin</button>
            </form>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script>
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbys_e1jIVfYoGd5gMgh5isfnNH23zSy2UAnbQypRDaeBHvF84u_qoRybs0UZnkD2PM/exec';

        // Xử lý form học sinh
        document.getElementById('studentForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true; // Vô hiệu hóa nút ngay khi nhấn

            const sdtLienLac = document.getElementById('sdtLienLac').value;
            const sdtHS = document.getElementById('sdtHS').value;
            const data = {
                type: 'student',
                hoTen: document.getElementById('hoTen').value,
                ngaySinh: document.getElementById('ngaySinh').value,
                noiSinh: document.getElementById('noiSinh').value,
                gioiTinh: document.querySelector('input[name="gioiTinh"]:checked')?.value || '',
                danToc: document.getElementById('danToc').value,
                dienChinhSach: document.getElementById('dienChinhSach').value,
                toAp: document.getElementById('toAp').value,
                xa: document.getElementById('xa').value,
                tinh: document.getElementById('tinh').value,
                chaHoTen: document.getElementById('chaHoTen').value,
                chaNgheNghiep: document.getElementById('chaNgheNghiep').value,
                meHoTen: document.getElementById('meHoTen').value,
                meNgheNghiep: document.getElementById('meNgheNghiep').value,
                sdtLienLac: sdtLienLac ? `'${sdtLienLac}` : '',  // Tự động thêm dấu '
                renLuyen: document.getElementById('renLuyen').value,
                hocTap: document.getElementById('hocTap').value,
                banCanSu: document.getElementById('banCanSu').value,
                email: document.getElementById('email').value,
                cccd: document.getElementById('cccd').value,
                sdtHS: sdtHS ? `'${sdtHS}` : '',  // Tự động thêm dấu '
                canNang: document.getElementById('canNang').value,
                chieuCao: document.getElementById('chieuCao').value,
                bietBoi: document.getElementById('bietBoi').checked,
                benhMat: document.getElementById('benhMat').value,
                tienSuBenh: document.getElementById('tienSuBenh').value,
                phuongTienXD: document.getElementById('phuongTienXD').checked,
                phuongTienXeMay: document.getElementById('phuongTienXeMay').checked,
                phuongTienKhac: document.getElementById('phuongTienKhac').value,
                hocTrucTuyenDu: document.getElementById('hocTrucTuyenDu').checked,
                hocTrucTuyenKhong: document.getElementById('hocTrucTuyenKhong').checked,
                hocTrucTuyenNho: document.getElementById('hocTrucTuyenNho').checked,
                ghiChu: document.getElementById('ghiChu').value
            };

            try {
                const response = await fetch(SCRIPT_URL, {
                    method: 'POST',
                    body: JSON.stringify(data),
                    headers: { 'Content-Type': 'application/json' }
                });
                const result = await response.json();
                if (result.status === 'success') {
                    alert('Nộp thành công, cảm ơn Em!');
                    // Reset form
                    document.getElementById('studentForm').reset();
                }
            } catch (error) {
                alert('Lỗi: ' + error);
            } finally {
                submitBtn.disabled = false; // Kích hoạt lại nút sau khi xử lý
            }
        });
    </script>
</body>
</html>
